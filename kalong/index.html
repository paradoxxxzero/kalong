<!DOCTYPE html>
<meta charset="utf-8" />
<html>
  <head>
    <script language="javascript" type="text/javascript">
       function connect() {
         const ws = new WebSocket(`${location.protocol.replace('http', 'ws')}//${location.host}${location.pathname}`)
         window.ws = ws
         ws.onopen = function() {
           console.log('open')
         }
         ws.onmessage = function(e) {
           document.write(e.data)
         }
         ws.onclose = function() {
           console.log('close')
         }
       }
       window.onload = connect
    </script>
  </head>
  <body>
    <div id="app">Ë‡</div>
  </body>
</html>
